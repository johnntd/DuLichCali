<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>D·ªãch V·ª• Du L·ªãch Cao C·∫•p t·∫°i M·ªπ</title>
  <style>
    body { font-family: Arial, sans-serif; background: url('https://source.unsplash.com/featured/?california,coast') no-repeat center center/cover; margin: 0; padding: 0; }
    .container { background: rgba(255, 255, 255, 0.95); max-width: 900px; margin: auto; padding: 20px; border-radius: 10px; }
    form { display: flex; flex-direction: column; gap: 12px; }
    label { font-weight: bold; }
    input, select, textarea { padding: 10px; font-size: 16px; border-radius: 5px; border: 1px solid #ccc; width: 100%; }
    button { padding: 12px; background-color: #007BFF; color: white; font-size: 16px; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background-color: #0056b3; }
    .language-toggle { text-align: right; margin-bottom: 10px; }
    .ticket-options, #totalCostBox { background: #f1faff; padding: 10px; border-radius: 6px; }
    @media (max-width: 600px) {
      .container { padding: 10px; }
    }
  </style>
  <script>
    function showTicketOptions() {
      const peopleCount = parseInt(document.getElementById("people").value) || 0;
      const ticketDiv = document.getElementById("ticketOptions");
      ticketDiv.innerHTML = "";

      if (document.getElementById("disney").checked) {
        ticketDiv.innerHTML += `<h3>üéüÔ∏è Disneyland Options</h3>
        <label>Adult (Regular): <input type='number' name='dlAdultReg' max='${peopleCount}'></label>
        <label>Child (Regular): <input type='number' name='dlChildReg' max='${peopleCount}'></label>
        <label>Adult (VIP): <input type='number' name='dlAdultVIP' max='${peopleCount}'></label>
        <label>Child (VIP): <input type='number' name='dlChildVIP' max='${peopleCount}'></label>
        <label>Park: <select name='dlPark'><option>1 Park</option><option>Both Parks</option></select></label>`;
      }

      if (document.getElementById("universal").checked) {
        ticketDiv.innerHTML += `<h3>üéüÔ∏è Universal Studios Options</h3>
        <label>Adult (Regular): <input type='number' name='usAdultReg' max='${peopleCount}'></label>
        <label>Child (Regular): <input type='number' name='usChildReg' max='${peopleCount}'></label>
        <label>Adult (Express): <input type='number' name='usAdultVIP' max='${peopleCount}'></label>
        <label>Child (Express): <input type='number' name='usChildVIP' max='${peopleCount}'></label>`;
      }
    }

    function toggleLanguage() {
      const currentLang = document.documentElement.lang;
      const newLang = currentLang === 'vi' ? 'en' : 'vi';
      document.documentElement.lang = newLang;
      location.reload(); // reload to apply lang-specific text
    }

    function calculateEstimate() {
      const destinations = document.querySelectorAll('input[name="destination"]:checked');
      const costBox = document.getElementById("costBreakdown");
      const people = parseInt(document.getElementById("people").value) || 0;
      const days = parseInt(document.getElementById("days").value) || 0;
      const homecook = parseInt(document.getElementById("homecookDays").value) || 0;

      let total = 0;
      let breakdown = "";

      const transport = {
        "San Francisco": 600,
        "Las Vegas": 500,
        "Yosemite": 450,
        "Grand Canyon": 700,
        "Lake Tahoe": 650
      };

      const dailyPerPerson = {
        "San Francisco": 50,
        "Las Vegas": 100,
        "Yosemite": 80,
        "Grand Canyon": 90,
        "Lake Tahoe": 85,
        "Orange County Food Tour": 40,
        "Bay Area Food Tour": 50
      };

      destinations.forEach(d => {
        const dest = d.value;
        const dailyCost = dailyPerPerson[dest] || 0;
        if (transport[dest]) {
          breakdown += `<p>üöê Transport to ${dest}: $${transport[dest]}</p>`;
          total += transport[dest];
        }
        if (dailyCost > 0) {
          let cost = people * days * dailyCost;
          breakdown += `<p>üß≠ ${dest}: $${cost}</p>`;
          total += cost;
        }
      });

      if (homecook > 0) {
        let foodCost = homecook * people * 35;
        breakdown += `<p>üç≤ Home-cooked meals (${homecook}d): $${foodCost}</p>`;
        total += foodCost;
      }

      if (document.getElementById("airportPickup").checked) {
        const location = document.getElementById("airportLoc").value;
        let airportCost = { "SNA": 50, "LAX": 100, "LGB": 70 }[location] || 0;
        breakdown += `<p>‚úàÔ∏è Airport Pickup (${location}): $${airportCost}</p>`;
        total += airportCost;
      }

      breakdown += `<h4>üí∞ Total Estimated Cost: $${total}</h4>`;
      costBox.innerHTML = breakdown;
    }
  </script>
</head>
<body>
  <div class="language-toggle">
    <button onclick="toggleLanguage()">üåê Ng√¥n ng·ªØ / Language</button>
  </div>
  <div class="container">
    <h1>D·ªãch V·ª• Du L·ªãch Cao C·∫•p t·∫°i M·ªπ</h1>
    <p>Xe Mercedes 12 ch·ªó, t√†i x·∫ø th√¢n thi·ªán, h√†nh tr√¨nh tr·ªçn g√≥i!</p>
    <form action="https://formsubmit.co/johnntd@gmail.com" method="POST" oninput="showTicketOptions();calculateEstimate();">
      <input type="hidden" name="_next" value="https://johnntd.github.io/DuLichCali/thankyou.html"/>
      <label>H·ªç v√† t√™n:</label>
      <input type="text" name="name" required />
      <label>S·ªë ƒëi·ªán tho·∫°i:</label>
      <input type="tel" name="phone" required />
      <label>Email:</label>
      <input type="email" name="email" />
      <label>Ng√†y mu·ªën ƒëi:</label>
      <input type="date" name="date" />
      <label>S·ªë ng∆∞·ªùi (t·ªëi ƒëa 12):</label>
      <input id="people" type="number" name="people" min="1" max="12" required />
      <label>S·ªë ng√†y tham quan:</label>
      <input id="days" type="number" name="days" min="1" max="14" required />

      <label>ƒê·ªãa ch·ªâ ƒë√≥n:</label>
      <input type="text" name="pickupAddress" placeholder="V√≠ d·ª•: 123 Main St, San Jose, CA" />
      <label>ƒê·ªãa ch·ªâ tr·∫£ kh√°ch:</label>
      <input type="text" name="dropoffAddress" placeholder="V√≠ d·ª•: 456 Market St, Los Angeles, CA" />

      <label>Ch·ªçn ƒëi·ªÉm ƒë·∫øn:</label>
      <label><input type="checkbox" id="disney" name="destination" value="Disneyland" onchange="showTicketOptions()"> Disneyland</label>
      <label><input type="checkbox" id="universal" name="destination" value="Universal Studios" onchange="showTicketOptions()"> Universal Studios</label>
      <label><input type="checkbox" name="destination" value="San Francisco"> San Francisco</label>
      <label><input type="checkbox" name="destination" value="Las Vegas"> Las Vegas</label>
      <label><input type="checkbox" name="destination" value="Grand Canyon"> Grand Canyon</label>
      <label><input type="checkbox" name="destination" value="Yosemite"> Yosemite</label>
      <label><input type="checkbox" name="destination" value="Orange County Food Tour"> Orange County Food Tour</label>
      <label><input type="checkbox" name="destination" value="Bay Area Food Tour"> Bay Area Food Tour</label>

      <div id="ticketOptions" class="ticket-options"></div>

      <label><input type="checkbox" id="airportPickup" name="airportPickup"> Airport Pickup</label>
      <select id="airportLoc" name="airportLoc">
        <option value="SNA">Orange County (SNA)</option>
        <option value="LAX">LAX</option>
        <option value="LGB">Long Beach (LGB)</option>
      </select>

      <label>S·ªë ng√†y mu·ªën ƒÉn t·∫°i nh√† (Bay Area):</label>
      <input type="number" id="homecookDays" name="homecookDays" min="0" max="14" />

      <label>Ghi ch√∫:</label>
      <textarea name="message" rows="4"></textarea>

      <div id="totalCostBox">
        <h3>üìä ∆Ø·ªõc T√≠nh Chi Ph√≠:</h3>
        <div id="costBreakdown"><p>ƒêi·ªÅn th√¥ng tin ƒë·ªÉ ∆∞·ªõc t√≠nh chi ph√≠...</p></div>
      </div>

      <button type="submit">G·ª≠i Y√™u C·∫ßu</button>
    </form>
  </div>
</body>
</html>
