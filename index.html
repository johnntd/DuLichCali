<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dá»‹ch Vá»¥ Du Lá»‹ch Cao Cáº¥p táº¡i Má»¹</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Google Maps API (load once only) -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2hdNmd5pVvTynpInJn3DN7htrOLlK0CE&libraries=places"></script>
</head>
<body>
  <header>
    <img src="logo.png" alt="Business Logo" id="logo" />
    <h1>Dá»‹ch Vá»¥ Du Lá»‹ch Cao Cáº¥p táº¡i Má»¹</h1>
    <div id="language-toggle">
      <button onclick="setLanguage('en')">English</button>
      <button onclick="setLanguage('vi')">Tiáº¿ng Viá»‡t</button>
    </div>
  </header>

  <main>
    <section id="service-selection">
      <label><input type="radio" name="serviceType" value="airport" checked onchange="toggleServiceSections()" /> ðŸš— Airport Service</label>
      <label><input type="radio" name="serviceType" value="travel" onchange="toggleServiceSections()" /> ðŸŒ„ Travel Package</label>
    </section>

    <form id="travel-form" action="https://formsubmit.co/johnntd@gmail.com" method="POST">
      <!-- Common Inputs -->
      <div id="common-fields">
        <label>Full Name: <input type="text" name="customerName" required /></label>
        <label>Phone: <input type="tel" name="customerPhone" required /></label>
        <div id="email-field" style="display:none">
          <label>Email: <input type="email" name="customerEmail" /></label>
        </div>
      </div>

      <!-- Airport Pickup/Drop-off Section -->
      <div id="airport-section">
        <label>Pickup or Drop-off:
          <select name="airportService">
            <option value="pickup">Pickup</option>
            <option value="dropoff">Drop-off</option>
          </select>
        </label>

        <label>Airport:
          <select name="airport">
            <option value="SNA">Orange County (SNA)</option>
            <option value="LAX">Los Angeles International (LAX)</option>
            <option value="LGB">Long Beach (LGB)</option>
          </select>
        </label>

        <fieldset>
          <legend>Pickup/Drop-off Address</legend>
          <input type="text" id="addressStreet" name="addressStreet" placeholder="Street Address" required />
          <input type="text" id="addressCity" name="addressCity" placeholder="City" required />
          <input type="text" id="addressState" name="addressState" placeholder="State" required />
          <input type="text" id="addressZip" name="addressZip" placeholder="ZIP Code" required />
        </fieldset>

        <label>Number of People:
          <input type="number" id="numPeople" name="numPeople" min="1" max="12" value="1" onchange="calculateAirportCost()" />
        </label>

        <label>Date:
          <input type="date" name="airportDate" required />
        </label>

        <label>Time:
          <input type="time" name="airportTime" required />
        </label>

        <div id="airport-cost">Estimated Cost: $<span id="airportCost">0</span></div>
      </div>

      <!-- Travel Package Section -->
      <div id="travel-section" style="display: none;">
        <label>Destinations:
          <select name="destinations" multiple size="10">
            <option>Disneyland Park</option>
            <option>California Adventure Park</option>
            <option>Universal Studios</option>
            <option>San Diego Zoo</option>
            <option>SeaWorld</option>
            <option>LegoLand</option>
            <option>Las Vegas</option>
            <option>Grand Canyon</option>
            <option>San Francisco</option>
            <option>Yosemite</option>
            <option>Lake Tahoe</option>
            <option>Reno</option>
            <option>Silicon Valley (Apple, Google, Facebook)</option>
          </select>
        </label>

        <label>Travelers:
          <input type="number" name="travelers" min="1" max="12" value="1" />
        </label>

        <label>Travel Days:
          <input type="number" name="travelDays" min="1" />
        </label>

        <label>Stay:
          <select name="stayType">
            <option value="hotel">Hotel (~$180/night)</option>
            <option value="airbnb">Airbnb (~$140/night)</option>
          </select>
        </label>

        <label>Home-cooked Meals (Bay Area):
          <input type="number" name="mealDays" min="0" value="0" />
        </label>

        <label>Pickup Date:
          <input type="date" name="travelDate" />
        </label>

        <label>Pickup Time:
          <input type="time" name="travelTime" />
        </label>

        <label>Include airport pickup?
          <input type="checkbox" name="includeAirport" />
        </label>

        <div id="travel-cost-breakdown">
          <p>Tickets: $<span id="ticketCost">0</span></p>
          <p>Meals: $<span id="mealCost">0</span></p>
          <p>Stay: $<span id="stayCost">0</span></p>
          <p>Transport: $<span id="transportCost">0</span></p>
          <strong>Total: $<span id="totalCost">0</span></strong>
        </div>
      </div>

      <!-- Payment Options -->
      <fieldset>
        <legend>Payment</legend>
        <label><input type="radio" name="payment" value="paypal" checked /> Pay via PayPal</label>
        <label><input type="radio" name="payment" value="later" /> Pay on Pickup</label>
      </fieldset>

      <input type="hidden" name="_next" value="https://johnntd.github.io/DuLichCali/thankyou.html" />
      <input type="submit" value="Submit" />
    </form>
  </main>

  <footer>
    <p>Contact: johnntd@gmail.com | Phone: 714-227-6007</p>
  </footer>

  <script>
    function toggleServiceSections() {
      const serviceType = document.querySelector('input[name="serviceType"]:checked').value;
      document.getElementById('airport-section').style.display = serviceType === 'airport' ? 'block' : 'none';
      document.getElementById('travel-section').style.display = serviceType === 'travel' ? 'block' : 'none';
      document.getElementById('email-field').style.display = serviceType === 'travel' ? 'block' : 'none';
    }

    function calculateAirportCost() {
      const street = document.getElementById('addressStreet').value;
      const city = document.getElementById('addressCity').value;
      const state = document.getElementById('addressState').value;
      const zip = document.getElementById('addressZip').value;
      const numPeople = parseInt(document.getElementById('numPeople').value);
      const destination = `${street}, ${city}, ${state} ${zip}`;

      const service = new google.maps.DistanceMatrixService();
      service.getDistanceMatrix({
        origins: ['Orange County, CA'],
        destinations: [destination],
        travelMode: 'DRIVING',
      }, (response, status) => {
        if (status === 'OK') {
          const distanceMeters = response.rows[0].elements[0].distance.value;
          const miles = distanceMeters / 1609.34;
          let cost = miles * 2.5;
          if (numPeople > 3) cost += (numPeople - 3) * 10;
          document.getElementById('airportCost').innerText = cost.toFixed(2);
        }
      });
    }

    document.getElementById('addressStreet').addEventListener('blur', calculateAirportCost);
    document.getElementById('addressCity').addEventListener('blur', calculateAirportCost);
    document.getElementById('addressState').addEventListener('blur', calculateAirportCost);
    document.getElementById('addressZip').addEventListener('blur', calculateAirportCost);
  </script>
</body>
</html>
